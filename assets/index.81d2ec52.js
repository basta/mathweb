var I=Object.defineProperty;var E=(l,e,t)=>e in l?I(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var h=(l,e,t)=>(E(l,typeof e!="symbol"?e+"":e,t),t);import{G as M,d as _,r as g,A as $,C as B,o as O,T as k,a as D,b as c,c as d,F as w,e as L,u as m,w as H,v as N,f as v,g as C,h as b,i as P}from"./vendor.545c4685.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};S();class u{constructor(...e){h(this,"elements",[]);this.elements=e}get e(){return this.elements}lineParams(e){if(this.e.length!=2)throw new Error("Can only get line params for 2d vector");return[e.width/2,e.height/2,e.width/2+this.elements[0],e.height/2-this.elements[1]]}multiply(e){if(typeof e=="number")return new u(...this.elements.map(t=>t*e));{let t=new u;for(const n in this.e){let s=0;for(const r in e.e)s+=e.e[r].e[n]*this.e[r];t.e.push(s)}return t}}}class y{constructor(...e){h(this,"elements",[]);this.elements=e}get e(){return this.elements}multiply(e){if(typeof e=="number")return new y(...this.elements.map(t=>t.multiply(e)));{let t=new y;for(const n of e.e)t.e.push(n.multiply(this));return t}}}class j{constructor(e,t,n,s,r=3,i=0,a=null){h(this,"width");h(this,"color");h(this,"_x1",0);h(this,"_x2",0);h(this,"_y1",0);h(this,"_y2",0);h(this,"graphics",new M);this.x1=e,this.x2=n,this.y1=t,this.y2=s,this.width=3,this.color=i,this._reset()}get y1(){return this._y1}set y1(e){this._y1=e,this._reset()}get y2(){return this._y2}set y2(e){this._y2=e,this._reset()}get x1(){return this._x1}set x1(e){this._x1=e,this._reset()}get x2(){return this._x2}set x2(e){this._x2=e,this._reset()}_reset(){this.graphics.clear(),this.graphics.lineStyle(this.width,this.color),this.graphics.moveTo(this.x1,this.y1),this.graphics.lineTo(this.x2,this.y2)}get startVector(){return new u(this.x1,this.y1)}set startVector(e){this.x1=e.e[0],this.y1=e.e[1],this._reset()}get endVector(){return new u(this.x2,this.y2)}set endVector(e){this.x2=e.e[0],this.y2=e.e[1],this._reset()}get vectors(){return[this.startVector,this.endVector]}set vectors(e){this.startVector=e[0],this.endVector=e[1],this._reset()}}const V=_({props:{vectors:null},setup(l){const e=l,t=500,n=500,s=g(null),r=new $({antialias:!0,width:t,height:n,backgroundColor:16777215});let i=new B,a=[];return O(()=>{document.getElementById("draw-space")!=null&&(document.getElementById("draw-space").innerHTML=""),s==null||s.value.appendChild(r.view);const o=new M,p=new k("X");p.x=t-20,p.y=n/2-30,r.stage.addChild(p),o.lineStyle(2,7829367),o.moveTo(0,n/2),o.lineTo(t,n/2);const f=new k("Y");if(f.x=t/2-25,f.y=0,r.stage.addChild(f),o.lineStyle(2,7829367),o.moveTo(t/2,0),o.lineTo(t/2,n),r.stage.addChild(o),i.x=r.screen.width/2,i.y=r.screen.height/2,r.stage.addChild(i),e.vectors)for(const x of e.vectors){let T=new j(0,0,x.e[0],x.e[1]);i.addChild(T.graphics),a.push(T)}}),D(()=>{for(const o in e.vectors)a[o].y2=e.vectors[o].e[1],a[o].x2=e.vectors[o].e[0]}),(o,p)=>(c(),d("div",{ref:(f,x)=>{x.root=f,s.value=f}},null,512))}}),F={class:"w-auto inline-block border-l-4 border-r-4 border-black"},G={class:"object-fill flex"},U=["onUpdate:modelValue"],A=_({props:{cols:null,rows:null},setup(l){const e=l;let t=g(Array(parseInt(e.rows)).fill(0).map(()=>Array(parseInt(e.rows)).fill(0)));return console.log(t),(n,s)=>(c(),d("div",F,[(c(!0),d(w,null,L(m(t),(r,i)=>(c(),d("div",G,[(c(!0),d(w,null,L(r,(a,o)=>H((c(),d("input",{class:"flex-auto w-6 text-center","onUpdate:modelValue":p=>m(t)[i][o]=p,onChange:s[0]||(s[0]=p=>n.$emit("matrixChange",m(t)))},null,40,U)),[[N,m(t)[i][o]]])),256))]))),256))]))}}),q={class:"flex items-center justify-between"},K=_({setup(l){let e=new y(new u(0,0),new u(0,0));g(null);let t=0,n=i=>{e=new y(...i.map(a=>new u(...a))),console.log(s),r.value=s.value.map(a=>a.multiply(e)),console.log("Output vectors changed"),console.log(r),t=t+1,console.log(t)},s=g([new u(50,50),new u(80,20)]),r=g([]);return n([[1,0],[0,1]]),(i,a)=>(c(),d("div",q,[(c(),v(C(V),{vectors:m(s),id:"leftMatrix"},null,8,["vectors"])),(c(),v(C(A),{rows:"2",cols:"2",class:"flex-shrink",onMatrixChange:m(n)},null,8,["onMatrixChange"])),(c(),v(C(V),{vectors:m(r),id:"rightMatrix"},null,8,["vectors"]))]))}});const W=_({setup(l){const e=t=>{console.log(t),console.log(t[0][0])};return(t,n)=>(c(),d(w,null,[b(A,{rows:"3",cols:"3",onMatrixChange:e}),b(V),b(K)],64))}});P(W).mount("#app");
